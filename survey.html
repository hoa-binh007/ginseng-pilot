<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Survey</title>
  <link rel="stylesheet" href="app.css"/>
</head>
<body>
  <div class="wrap">
    <div class="row">
      <div class="small" data-de="Umfrage" data-vi="Kháº£o sÃ¡t" data-en="Survey"></div>
      <div class="lang">
        <button id="btnDe" type="button">ðŸ‡©ðŸ‡ª</button>
        <button id="btnVi" type="button">ðŸ‡»ðŸ‡³</button>
        <button id="btnEn" type="button">ðŸ‡¬ðŸ‡§</button>
      </div>
    </div>

    <div class="pilot-meta" style="margin:12px 0; padding:12px; border:1px solid #333; border-radius:10px;">
      <div style="display:flex; gap:10px; flex-wrap:wrap;">
        <label style="flex:1; min-width:160px;">
          <div style="font-weight:600; margin-bottom:6px;" data-de="Rolle (optional)" data-vi="Vai trÃ² (tÃ¹y chá»n)" data-en="Role (optional)"></div>
          <select id="role" style="width:100%; padding:8px;">
            <option value="" data-de="(Ã¼berspringen)" data-vi="(bá» qua)" data-en="(skip)"></option>
            <option value="consumer" data-de="Konsument" data-vi="NgÆ°á»i dÃ¹ng" data-en="Consumer"></option>
            <option value="expert" data-de="Experte" data-vi="ChuyÃªn gia" data-en="Expert"></option>
          </select>
        </label>

        <label style="flex:1; min-width:160px;">
          <div style="font-weight:600; margin-bottom:6px;" data-de="Stadt (optional)" data-vi="ThÃ nh phá»‘ (tÃ¹y chá»n)" data-en="City (optional)"></div>
          <select id="city" style="width:100%; padding:8px;">
            <option value="" data-de="(Ã¼berspringen)" data-vi="(bá» qua)" data-en="(skip)"></option>
            <option value="Germany" data-de="Deutschland" data-vi="Äá»©c" data-en="Germany"></option>
            <option value="Saigon">Saigon</option>
            <option value="DaLat">Da Lat</option>
            <option value="Hue">Huáº¿</option>
            <option value="QuangBinh">Quáº£ng BÃ¬nh</option>
            <option value="Other" data-de="Andere" data-vi="KhÃ¡c" data-en="Other"></option>
          </select>
        </label>
      </div>
      <div style="margin-top:8px; font-size:0.9em; opacity:0.8;" data-de="Hilft uns beim Vergleich der Standorte." data-vi="GiÃºp chÃºng tÃ´i so sÃ¡nh giá»¯a cÃ¡c thÃ nh phá»‘." data-en="Helps us compare cities/experts."></div>
    </div>

    <div class="card">
      <h1 data-de="Schnellumfrage (14 Fragen)" data-vi="Kháº£o sÃ¡t nhanh (14 cÃ¢u)" data-en="Quick survey (14 questions)"></h1>
      <p data-de="Anonym. Schnell tippen." data-vi="Chá»n nhanh. áº¨n danh." data-en="Tap quickly. Anonymous."></p>

      <form id="surveyForm">

        <h2 data-de="TEIL A â€“ WAHRNEHMUNG" data-vi="PHáº¦N A â€“ Cáº¢M NHáº¬N" data-en="PART A â€“ PERCEPTION"></h2>

        <div class="q">
          <div class="q-title" data-de="Q1. Bitterer Geschmack" data-vi="Q1. Vá»‹ Ä‘áº¯ng" data-en="Q1. Bitter taste"></div>
          <div class="choices">
            <label class="choice"><input type="radio" name="q1_bitter" value="strong" required><span data-de="Stark" data-vi="Äáº¯ng rÃµ" data-en="Strong"></span></label>
            <label class="choice"><input type="radio" name="q1_bitter" value="mild"><span data-de="Mild" data-vi="Äáº¯ng nháº¹" data-en="Mild"></span></label>
            <label class="choice"><input type="radio" name="q1_bitter" value="hardly"><span data-de="Kaum" data-vi="Háº§u nhÆ° khÃ´ng Ä‘áº¯ng" data-en="Hardly"></span></label>
            <label class="choice"><input type="radio" name="q1_bitter" value="none"><span data-de="Nicht bitter" data-vi="KhÃ´ng Ä‘áº¯ng" data-en="Not bitter"></span></label>
          </div>
        </div>

        <div class="q">
          <div class="q-title" data-de="Q2. Leichter sÃ¼ÃŸer Nachgeschmack?" data-vi="Q2. Háº­u vá»‹ ngá»t nháº¹?" data-en="Q2. Slight sweet aftertaste?"></div>
          <div class="choices">
            <label class="choice"><input type="radio" name="q2_sweet" value="yes" required><span data-de="Ja" data-vi="CÃ³" data-en="Yes"></span></label>
            <label class="choice"><input type="radio" name="q2_sweet" value="little"><span data-de="Ein bisschen" data-vi="CÃ³ má»™t chÃºt" data-en="A little"></span></label>
            <label class="choice"><input type="radio" name="q2_sweet" value="unsure"><span data-de="Nicht sicher" data-vi="KhÃ´ng cháº¯c" data-en="Not sure"></span></label>
            <label class="choice"><input type="radio" name="q2_sweet" value="no"><span data-de="Nein" data-vi="KhÃ´ng" data-en="No"></span></label>
          </div>
        </div>

        <div class="q">
          <div class="q-title" data-de="Q3. Mehr Speichelfluss?" data-vi="Q3. Nhiá»u nÆ°á»›c bá»t hÆ¡n?" data-en="Q3. More saliva?"></div>
          <div class="choices">
            <label class="choice"><input type="radio" name="q3_saliva" value="yes_clear" required><span data-de="Ja, deutlich" data-vi="CÃ³, rÃµ" data-en="Yes, clearly"></span></label>
            <label class="choice"><input type="radio" name="q3_saliva" value="yes_light"><span data-de="Ja, leicht" data-vi="CÃ³, nháº¹" data-en="Yes, a little"></span></label>
            <label class="choice"><input type="radio" name="q3_saliva" value="unsure"><span data-de="Nicht sicher" data-vi="KhÃ´ng cháº¯c" data-en="Not sure"></span></label>
            <label class="choice"><input type="radio" name="q3_saliva" value="no"><span data-de="Nein" data-vi="KhÃ´ng" data-en="No"></span></label>
          </div>
        </div>

        <div class="q">
          <div class="q-title" data-de="Q4. Gesamteindruck" data-vi="Q4. Cáº£m nháº­n chung" data-en="Q4. Overall perception"></div>
          <div class="choices">
            <label class="choice"><input type="radio" name="q4_type" value="health_machine" required><span data-de="GesundheitsgetrÃ¤nk (Maschine)" data-vi="Äá»“ uá»‘ng sá»©c khá»e (mÃ¡y)" data-en="Health drink (machine)"></span></label>
            <label class="choice"><input type="radio" name="q4_type" value="medicinal"><span data-de="Naturmedizin / KrÃ¤uter" data-vi="DÆ°á»£c liá»‡u / thuá»‘c ÄÃ´ng y" data-en="Herbal / medicinal"></span></label>
            <label class="choice"><input type="radio" name="q4_type" value="coffee_machine"><span data-de="Ã„hnlich wie Kaffee (Maschine)" data-vi="Giá»‘ng cÃ  phÃª (mÃ¡y)" data-en="Similar to coffee (machine)"></span></label>
          </div>
        </div>

        <div class="q">
          <div class="q-title" data-de="Q5. Bevorzugte Servierform" data-vi="Q5. Báº¡n thÃ­ch uá»‘ngâ€¦" data-en="Q5. Preferred serving"></div>
          <div class="choices">
            <label class="choice"><input type="radio" name="q5_temp" value="hot" required><span data-de="HeiÃŸ" data-vi="NÃ³ng" data-en="Hot"></span></label>
            <label class="choice"><input type="radio" name="q5_temp" value="cold"><span data-de="Kalt / Eis" data-vi="Láº¡nh / ÄÃ¡" data-en="Cold / with ice"></span></label>
            <label class="choice"><input type="radio" name="q5_temp" value="either"><span data-de="Egal" data-vi="CÃ¡ch nÃ o cÅ©ng Ä‘Æ°á»£c" data-en="Either is fine"></span></label>
          </div>
        </div>

        <h2 data-de="TEIL B â€“ PREIS & WERT" data-vi="PHáº¦N B â€“ GIÃ & GIÃ TRá»Š" data-en="PART B â€“ PRICE & VALUE"></h2>

        <div class="q">
          <div class="q-title" data-de="Q6. Zu billig (Zweifel an QualitÃ¤t)" data-vi="Q6. QuÃ¡ ráº» Ä‘á»ƒ tin tÆ°á»Ÿng" data-en="Q6. Too cheap to trust"></div>
          <input type="hidden" name="q6_tooCheap" value="" required>
          <div class="scale">
            <button class="dot" type="button" data-scale="q6_tooCheap" data-value="1">1</button>
            <button class="dot" type="button" data-scale="q6_tooCheap" data-value="2">2</button>
            <button class="dot" type="button" data-scale="q6_tooCheap" data-value="3">3</button>
            <button class="dot" type="button" data-scale="q6_tooCheap" data-value="4">4</button>
            <button class="dot" type="button" data-scale="q6_tooCheap" data-value="5">5</button>
          </div>
        </div>

        <div class="q">
          <div class="q-title" data-de="Q7. Gutes Preis-Leistungs-VerhÃ¤ltnis" data-vi="Q7. GiÃ¡ Ä‘Ã¡ng tiá»n" data-en="Q7. Good value"></div>
          <input type="hidden" name="q7_goodValue" value="" required>
          <div class="scale">
            <button class="dot" type="button" data-scale="q7_goodValue" data-value="1">1</button>
            <button class="dot" type="button" data-scale="q7_goodValue" data-value="2">2</button>
            <button class="dot" type="button" data-scale="q7_goodValue" data-value="3">3</button>
            <button class="dot" type="button" data-scale="q7_goodValue" data-value="4">4</button>
            <button class="dot" type="button" data-scale="q7_goodValue" data-value="5">5</button>
          </div>
        </div>

        <div class="q">
          <div class="q-title" data-de="Q8. Teuer, aber akzeptabel" data-vi="Q8. HÆ¡i Ä‘áº¯t nhÆ°ng váº«n mua" data-en="Q8. Expensive but acceptable"></div>
          <input type="hidden" name="q8_expOk" value="" required>
          <div class="scale">
            <button class="dot" type="button" data-scale="q8_expOk" data-value="1">1</button>
            <button class="dot" type="button" data-scale="q8_expOk" data-value="2">2</button>
            <button class="dot" type="button" data-scale="q8_expOk" data-value="3">3</button>
            <button class="dot" type="button" data-scale="q8_expOk" data-value="4">4</button>
            <button class="dot" type="button" data-scale="q8_expOk" data-value="5">5</button>
          </div>
        </div>

        <div class="q">
          <div class="q-title" data-de="Q9. Zu teuer zum Kaufen" data-vi="Q9. QuÃ¡ Ä‘áº¯t, khÃ´ng mua" data-en="Q9. Too expensive to buy"></div>
          <input type="hidden" name="q9_tooExp" value="" required>
          <div class="scale">
            <button class="dot" type="button" data-scale="q9_tooExp" data-value="1">1</button>
            <button class="dot" type="button" data-scale="q9_tooExp" data-value="2">2</button>
            <button class="dot" type="button" data-scale="q9_tooExp" data-value="3">3</button>
            <button class="dot" type="button" data-scale="q9_tooExp" data-value="4">4</button>
            <button class="dot" type="button" data-scale="q9_tooExp" data-value="5">5</button>
          </div>
        </div>

        <h2 data-de="TEIL C â€“ KAUFVERHALTEN" data-vi="PHáº¦N C â€“ MUA HÃ€NG" data-en="PART C â€“ BUYING"></h2>

        <div class="q">
          <div class="q-title" data-de="Q10. KonsumhÃ¤ufigkeit" data-vi="Q10. Táº§n suáº¥t uá»‘ng" data-en="Q10. Consumption frequency"></div>
          <div class="choices">
            <label class="choice"><input type="radio" name="q10_freq" value="daily" required><span data-de="TÃ¤glich" data-vi="Má»—i ngÃ y" data-en="Daily"></span></label>
            <label class="choice"><input type="radio" name="q10_freq" value="2_3wk"><span data-de="2-3 mal pro Woche" data-vi="2â€“3 láº§n / tuáº§n" data-en="2-3 times/week"></span></label>
            <label class="choice"><input type="radio" name="q10_freq" value="1wk"><span data-de="WÃ¶chentlich" data-vi="1 láº§n / tuáº§n" data-en="Once a week"></span></label>
            <label class="choice"><input type="radio" name="q10_freq" value="occasion"><span data-de="Gelegentlich" data-vi="Thá»‰nh thoáº£ng" data-en="Occasionally"></span></label>
          </div>
        </div>

        <div class="q">
          <div class="q-title" data-de="Q11. Bevorzugte Packung" data-vi="Q11. Báº¡n thÃ­ch muaâ€¦" data-en="Q11. Preferred pack"></div>
          <div class="choices">
            <label class="choice"><input type="radio" name="q11_pack" value="single" required><span data-de="Einzelne Kapsel" data-vi="Tá»«ng viÃªn" data-en="Single capsule"></span></label>
            <label class="choice"><input type="radio" name="q11_pack" value="box10"><span data-de="10er Box" data-vi="Há»™p 10 viÃªn" data-en="Box of 10"></span></label>
            <label class="choice"><input type="radio" name="q11_pack" value="box30"><span data-de="30er Box" data-vi="Há»™p 30 viÃªn" data-en="Box of 30"></span></label>
            <label class="choice"><input type="radio" name="q11_pack" value="gift"><span data-de="Geschenkbox ðŸŽ" data-vi="Há»™p quÃ  ðŸŽ" data-en="Gift box ðŸŽ"></span></label>
          </div>
        </div>

        <div class="q">
          <div class="q-title" data-de="Q12. VertrauenswÃ¼rdigster Kaufort" data-vi="Q12. NÆ¡i tin tÆ°á»Ÿng nháº¥t" data-en="Q12. Most trusted place"></div>
          <div class="choices">
            <label class="choice"><input type="radio" name="q12_channel" value="pharmacy" required><span data-de="Apotheke" data-vi="NhÃ  thuá»‘c" data-en="Pharmacy"></span></label>
            <label class="choice"><input type="radio" name="q12_channel" value="supermarket"><span data-de="Supermarkt" data-vi="SiÃªu thá»‹" data-en="Supermarket"></span></label>
            <label class="choice"><input type="radio" name="q12_channel" value="online"><span data-de="Offizielle Webseite" data-vi="Website chÃ­nh thá»©c" data-en="Official website"></span></label>
          </div>
        </div>

        <h2 data-de="TEIL D â€“ OPTIONAL" data-vi="PHáº¦N D â€“ TÃ™Y CHá»ŒN" data-en="PART D â€“ OPTIONAL"></h2>

        <div class="q">
          <div class="q-title" data-de="Q13. Aktuelle TÃ¤tigkeit" data-vi="Q13. Báº¡n hiá»‡n lÃ mâ€¦" data-en="Q13. Current occupation"></div>
          <div class="choices">
            <label class="choice"><input type="radio" name="q13_work" value="office"><span data-de="BÃ¼roangestellter" data-vi="NhÃ¢n viÃªn vÄƒn phÃ²ng" data-en="Office worker"></span></label>
            <label class="choice"><input type="radio" name="q13_work" value="self"><span data-de="SelbststÃ¤ndig" data-vi="Tá»± kinh doanh" data-en="Self-employed"></span></label>
            <label class="choice"><input type="radio" name="q13_work" value="student"><span data-de="Student" data-vi="Sinh viÃªn" data-en="Student"></span></label>
            <label class="choice"><input type="radio" name="q13_work" value="home"><span data-de="Hausfrau/-mann" data-vi="Ná»™i trá»£" data-en="Homemaker"></span></label>
          </div>
        </div>

        <div class="q">
          <div class="q-title" data-de="Q14. Ausgaben fÃ¼r Gesundheit / Monat" data-vi="Q14. Chi cho sá»©c khá»e / thÃ¡ng" data-en="Q14. Health spending / month"></div>
          <input type="hidden" name="q14_spend" value="">
          <div class="scale">
            <button class="dot" type="button" data-scale="q14_spend" data-value="1">1</button>
            <button class="dot" type="button" data-scale="q14_spend" data-value="2">2</button>
            <button class="dot" type="button" data-scale="q14_spend" data-value="3">3</button>
            <button class="dot" type="button" data-scale="q14_spend" data-value="4">4</button>
          </div>
        </div>

        <div class="footer">
          <button class="btn" type="submit" data-de="Senden" data-vi="Gá»­i" data-en="Submit"></button>
        </div>

      </form>
    </div>
  </div>

  <script src="app.js"></script>
  <script>
    Ginseng.initLangButtons();
    Ginseng.renderI18n();

    document.querySelectorAll("button.dot[data-scale]").forEach(btn => {
      btn.addEventListener("click", () => {
        Ginseng.setScale(btn.dataset.scale, btn.dataset.value);
      });
    });

    document.getElementById("surveyForm").addEventListener("submit", async (e) => {
      e.preventDefault();
      const data = Ginseng.collectForm(document.getElementById("surveyForm"));
      const payload = {
        id: Ginseng.uuid(),
        ts: new Date().toISOString(),
        lang: localStorage.getItem("ginseng_lang") || "de",
        answers: data
      };
      try {
        await Ginseng.saveResponse(payload);
        window.location.href = "thanks.html";
      } catch (err) {
        alert(Ginseng.t({de:"Fehler.", vi:"Lá»—i.", en:"Error."}));
      }
    });
  </script>
</body>
</html>
